
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® Advanced Graph Coloring Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 1.1em;
            opacity: 0.95;
        }
        
        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 3px solid #667eea;
            overflow-x: auto;
        }
        
        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: #f5f5f5;
            border: none;
            border-bottom: 4px solid transparent;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .tab-button:hover {
            background: #e8e8e8;
            color: #667eea;
        }
        
        .tab-button.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .chart-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .chart-container h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .chart-3d {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }
        
        .chart-3d h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .metrics-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9em;
            background: white;
        }
        
        .metrics-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .metrics-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
        }
        
        .metrics-table tr:hover {
            background: #f5f5f5;
        }
        
        .edge-case-section {
            margin-bottom: 30px;
        }
        
        .edge-case-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        
        .edge-case-card {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .edge-case-name {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .edge-case-result {
            font-size: 0.9em;
            color: #555;
            margin: 5px 0;
        }
        
        .result-good { color: #28a745; font-weight: 600; }
        .result-warning { color: #ff9800; font-weight: 600; }
        .result-error { color: #dc3545; font-weight: 600; }
        
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #ddd;
        }
        
        .legend-item {
            display: inline-block;
            margin-right: 20px;
            font-size: 0.9em;
        }
        
        .legend-color {
            display: inline-block;
            width: 15px;
            height: 15px;
            border-radius: 3px;
            margin-right: 5px;
            vertical-align: middle;
        }
        
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .edge-case-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stat-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab-button {
                flex: 0 0 50%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Advanced Graph Coloring Analysis Dashboard</h1>
            <p class="subtitle">Interactive Visualizations with 3D Analysis, Animations & Edge Cases</p>
            <p class="subtitle">üìä Generated: 2025-11-19 11:40:03</p>
        </header>
        
        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'overview')">üìä Overview</button>
            <button class="tab-button" onclick="openTab(event, 'analysis')">üìà Analysis</button>
            <button class="tab-button" onclick="openTab(event, '3d')">üîÆ 3D Analysis</button>
            <button class="tab-button" onclick="openTab(event, 'edge-cases')">‚ö†Ô∏è Edge Cases</button>
            <button class="tab-button" onclick="openTab(event, 'metrics')">üìã Detailed Metrics</button>
        </div>
        
        <div id="overview" class="tab-content active">
            <div class="stat-grid">
                <div class="stat-card">
                    <div class="stat-value">4</div>
                    <div class="stat-label">Algorithms</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12+</div>
                    <div class="stat-label">Edge Cases</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">20+</div>
                    <div class="stat-label">Metrics</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">15+</div>
                    <div class="stat-label">Charts</div>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="chart-container">
                    <h3>üéØ Colors Used - All Graphs</h3>
                    <div id="colorsChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>‚ö° Execution Time Comparison</h3>
                    <div id="timeChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>üìä Chromatic Efficiency</h3>
                    <div id="efficiencyChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>üéØ Solution Quality (Achromatic Power)</h3>
                    <div id="achroChart"></div>
                </div>
            </div>
        </div>
        
        <div id="analysis" class="tab-content">
            <div class="dashboard-grid">
                <div class="chart-container">
                    <h3>üì¶ Color Distribution (Box Plot)</h3>
                    <div id="boxChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>üî• Heatmap: Time vs Efficiency</h3>
                    <div id="heatmapChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>üìä Color Imbalance Analysis</h3>
                    <div id="imbalanceChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>‚öôÔ∏è Algorithm Speed Ranking</h3>
                    <div id="speedRankChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>üìà Conflicts per Algorithm</h3>
                    <div id="conflictChart"></div>
                </div>
                
                <div class="chart-container">
                    <h3>üé® Color Class Balance</h3>
                    <div id="classBalanceChart"></div>
                </div>
            </div>
        </div>
        
        <div id="3d" class="tab-content">
            <div class="chart-3d">
                <h3>üîÆ 3D Surface: How Colors Scale with Size & Density (Welsh-Powell)</h3>
                <div id="surface3d-wp"></div>
            </div>
            
            <div class="chart-3d">
                <h3>üîÆ 3D Surface: How Colors Scale with Size & Density (D-Satur)</h3>
                <div id="surface3d-ds"></div>
            </div>
            
            <div class="chart-3d">
                <h3>üîÆ 3D Scatter: Algorithm Comparison Space</h3>
                <div id="scatter3d"></div>
            </div>
        </div>
        
        <div id="edge-cases" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 20px;">‚ö†Ô∏è Edge Case Analysis</h2>
            <p style="margin-bottom: 20px; color: #666;">
                Testing algorithms on special graph structures: empty graphs, cliques, bipartite graphs, and more.
            </p>
            
            <div id="edgeCasesContainer" class="edge-case-grid">
                </div>
        </div>
        
        <div id="metrics" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 20px;">üìã Detailed Metrics Table</h2>
            <table class="metrics-table">
                <thead>
                    <tr>
                        <th>Graph</th>
                        <th>Description</th> <th>Algorithm</th>
                        <th>Colors</th>
                        <th>Conflicts</th>
                        <th>Valid</th>
                        <th>Time (ms)</th>
                        <th>Efficiency</th>
                        <th>Imbalance</th>
                        <th>Achromatic</th>
                        <th>Max Degree</th>
                    </tr>
                </thead>
                <tbody id="metricsBody">
                    </tbody>
            </table>
        </div>
        
        <footer>
            <p><strong>Graph Coloring Analysis | Algorithm Analysis & Design Final Project</strong></p>
            <p>Algorithms: Welsh-Powell | D-Satur | Simulated Annealing | Dynamic Programming</p>
            <p>This dashboard demonstrates advanced analysis, 3D visualization, and edge case handling.</p>
        </footer>
    </div>
    
    <script>
        // Tab switching functionality
        function openTab(evt, tabName) {
            const tabcontents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabcontents.length; i++) {
                tabcontents[i].classList.remove("active");
            }
            
            const tabbuttons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
        
        const resultsData = [{"algorithm": "Welsh-Powell", "execution_time_ms": 0.0, "num_colors": 3, "conflicts": 0, "is_valid": true, "color_imbalance": 0.3, "color_utilization_percent": 30.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.6666666666666666, "largest_color_class": 4, "color_class_variance": 0.22222222222222224, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 10, "graph_edges": 15, "graph_density": 0.3333333333333333, "max_degree": 3, "avg_degree": 3.0, "chromatic_lower_bound": 2, "chromatic_upper_bound": 4, "fractional_chromatic_approx": 2.5, "degeneracy": 3, "color_classes_independent": true, "graph_name": "Petersen", "graph_description": "Benchmark: 10 nodes, 15 edges (Tricky)"}, {"algorithm": "D-Satur", "execution_time_ms": 0.0, "num_colors": 3, "conflicts": 0, "is_valid": true, "color_imbalance": 0.3, "color_utilization_percent": 30.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.6666666666666666, "largest_color_class": 4, "color_class_variance": 0.22222222222222224, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 10, "graph_edges": 15, "graph_density": 0.3333333333333333, "max_degree": 3, "avg_degree": 3.0, "chromatic_lower_bound": 2, "chromatic_upper_bound": 4, "fractional_chromatic_approx": 2.5, "degeneracy": 3, "color_classes_independent": true, "graph_name": "Petersen", "graph_description": "Benchmark: 10 nodes, 15 edges (Tricky)"}, {"algorithm": "Simulated Annealing", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 1.0, "color_utilization_percent": 50.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.4, "largest_color_class": 3, "color_class_variance": 0.8, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 10, "graph_edges": 15, "graph_density": 0.3333333333333333, "max_degree": 3, "avg_degree": 3.0, "chromatic_lower_bound": 2, "chromatic_upper_bound": 4, "fractional_chromatic_approx": 2.5, "degeneracy": 3, "color_classes_independent": true, "graph_name": "Petersen", "graph_description": "Benchmark: 10 nodes, 15 edges (Tricky)"}, {"algorithm": "Dynamic Programming", "execution_time_ms": 0.0, "num_colors": 3, "conflicts": 0, "is_valid": true, "color_imbalance": 0.3, "color_utilization_percent": 30.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.6666666666666666, "largest_color_class": 4, "color_class_variance": 0.22222222222222224, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 10, "graph_edges": 15, "graph_density": 0.3333333333333333, "max_degree": 3, "avg_degree": 3.0, "chromatic_lower_bound": 2, "chromatic_upper_bound": 4, "fractional_chromatic_approx": 2.5, "degeneracy": 3, "color_classes_independent": true, "graph_name": "Petersen", "graph_description": "Benchmark: 10 nodes, 15 edges (Tricky)"}, {"algorithm": "Welsh-Powell", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 1.7647058823529411, "color_utilization_percent": 14.705882352941178, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 14, "color_class_variance": 22.96, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 34, "graph_edges": 78, "graph_density": 0.13903743315508021, "max_degree": 17, "avg_degree": 4.588235294117647, "chromatic_lower_bound": 5, "chromatic_upper_bound": 18, "fractional_chromatic_approx": 34.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Karate Club", "graph_description": "Real-World: 34 nodes, Social Network"}, {"algorithm": "D-Satur", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 1.3235294117647058, "color_utilization_percent": 14.705882352941178, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 11, "color_class_variance": 10.959999999999999, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 34, "graph_edges": 78, "graph_density": 0.13903743315508021, "max_degree": 17, "avg_degree": 4.588235294117647, "chromatic_lower_bound": 5, "chromatic_upper_bound": 18, "fractional_chromatic_approx": 34.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Karate Club", "graph_description": "Real-World: 34 nodes, Social Network"}, {"algorithm": "Simulated Annealing", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 1.0294117647058825, "color_utilization_percent": 14.705882352941178, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 10, "color_class_variance": 6.56, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 34, "graph_edges": 78, "graph_density": 0.13903743315508021, "max_degree": 17, "avg_degree": 4.588235294117647, "chromatic_lower_bound": 5, "chromatic_upper_bound": 18, "fractional_chromatic_approx": 34.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Karate Club", "graph_description": "Real-World: 34 nodes, Social Network"}, {"algorithm": "Dynamic Programming", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 1.7647058823529411, "color_utilization_percent": 14.705882352941178, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 14, "color_class_variance": 22.96, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 34, "graph_edges": 78, "graph_density": 0.13903743315508021, "max_degree": 17, "avg_degree": 4.588235294117647, "chromatic_lower_bound": 5, "chromatic_upper_bound": 18, "fractional_chromatic_approx": 34.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Karate Club", "graph_description": "Real-World: 34 nodes, Social Network"}, {"algorithm": "Welsh-Powell", "execution_time_ms": 0.0, "num_colors": 4, "conflicts": 0, "is_valid": true, "color_imbalance": 0.4, "color_utilization_percent": 20.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.75, "largest_color_class": 6, "color_class_variance": 0.5, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 20, "graph_edges": 57, "graph_density": 0.3, "max_degree": 9, "avg_degree": 5.7, "chromatic_lower_bound": 3, "chromatic_upper_bound": 10, "fractional_chromatic_approx": 2.857142857142857, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Random G(20,0.3)", "graph_description": "Synthetic: 20 nodes, Random Connections"}, {"algorithm": "D-Satur", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 1.25, "color_utilization_percent": 25.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.6, "largest_color_class": 6, "color_class_variance": 2.8, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 20, "graph_edges": 57, "graph_density": 0.3, "max_degree": 9, "avg_degree": 5.7, "chromatic_lower_bound": 3, "chromatic_upper_bound": 10, "fractional_chromatic_approx": 2.857142857142857, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Random G(20,0.3)", "graph_description": "Synthetic: 20 nodes, Random Connections"}, {"algorithm": "Simulated Annealing", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 0.5, "color_utilization_percent": 25.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.6, "largest_color_class": 5, "color_class_variance": 0.8, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 20, "graph_edges": 57, "graph_density": 0.3, "max_degree": 9, "avg_degree": 5.7, "chromatic_lower_bound": 3, "chromatic_upper_bound": 10, "fractional_chromatic_approx": 2.857142857142857, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Random G(20,0.3)", "graph_description": "Synthetic: 20 nodes, Random Connections"}, {"algorithm": "Dynamic Programming", "execution_time_ms": 0.0, "num_colors": 4, "conflicts": 0, "is_valid": true, "color_imbalance": 0.4, "color_utilization_percent": 20.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 0.75, "largest_color_class": 6, "color_class_variance": 0.5, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 20, "graph_edges": 57, "graph_density": 0.3, "max_degree": 9, "avg_degree": 5.7, "chromatic_lower_bound": 3, "chromatic_upper_bound": 10, "fractional_chromatic_approx": 2.857142857142857, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Random G(20,0.3)", "graph_description": "Synthetic: 20 nodes, Random Connections"}, {"algorithm": "Welsh-Powell", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 0.0, "color_utilization_percent": 100.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 1, "color_class_variance": 0.0, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 5, "graph_edges": 10, "graph_density": 1.0, "max_degree": 4, "avg_degree": 4.0, "chromatic_lower_bound": 5, "chromatic_upper_bound": 5, "fractional_chromatic_approx": 5.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Complete K(5)", "graph_description": "Sanity Check: 5 nodes, Fully Connected"}, {"algorithm": "D-Satur", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 0.0, "color_utilization_percent": 100.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 1, "color_class_variance": 0.0, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 5, "graph_edges": 10, "graph_density": 1.0, "max_degree": 4, "avg_degree": 4.0, "chromatic_lower_bound": 5, "chromatic_upper_bound": 5, "fractional_chromatic_approx": 5.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Complete K(5)", "graph_description": "Sanity Check: 5 nodes, Fully Connected"}, {"algorithm": "Simulated Annealing", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 0.0, "color_utilization_percent": 100.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 1, "color_class_variance": 0.0, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 5, "graph_edges": 10, "graph_density": 1.0, "max_degree": 4, "avg_degree": 4.0, "chromatic_lower_bound": 5, "chromatic_upper_bound": 5, "fractional_chromatic_approx": 5.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Complete K(5)", "graph_description": "Sanity Check: 5 nodes, Fully Connected"}, {"algorithm": "Dynamic Programming", "execution_time_ms": 0.0, "num_colors": 5, "conflicts": 0, "is_valid": true, "color_imbalance": 0.0, "color_utilization_percent": 100.0, "conflict_density_percent": 0.0, "achromatic_power": 1.0, "chromatic_efficiency": 1.0, "largest_color_class": 1, "color_class_variance": 0.0, "conflict_vertex_stats": {"num_conflict_vertices": 0, "percent_conflict": 0.0, "avg_degree_conflict": 0.0, "max_degree_conflict": 0}, "graph_nodes": 5, "graph_edges": 10, "graph_density": 1.0, "max_degree": 4, "avg_degree": 4.0, "chromatic_lower_bound": 5, "chromatic_upper_bound": 5, "fractional_chromatic_approx": 5.0, "degeneracy": 4, "color_classes_independent": true, "graph_name": "Complete K(5)", "graph_description": "Sanity Check: 5 nodes, Fully Connected"}];
        const edgeCaseData = [{"graph_name": "Empty (5 nodes, 0 edges)", "graph_nodes": 5, "graph_edges": 0, "error": null, "has_errors": false, "wp_colors": 1, "ds_colors": 1, "sa_colors": 4, "dp_colors": 1}, {"graph_name": "Single Vertex", "graph_nodes": 1, "graph_edges": 0, "error": null, "has_errors": false, "wp_colors": 1, "ds_colors": 1, "sa_colors": 1, "dp_colors": 1}, {"graph_name": "Two Isolated", "graph_nodes": 2, "graph_edges": 0, "error": null, "has_errors": false, "wp_colors": 1, "ds_colors": 1, "sa_colors": 1, "dp_colors": 1}, {"graph_name": "Complete K(5)", "graph_nodes": 5, "graph_edges": 10, "error": null, "has_errors": false, "wp_colors": 5, "ds_colors": 5, "sa_colors": 5, "dp_colors": 5}, {"graph_name": "Complete K(7)", "graph_nodes": 7, "graph_edges": 21, "error": null, "has_errors": false, "wp_colors": 7, "ds_colors": 7, "sa_colors": 5, "dp_colors": 7}, {"graph_name": "Bipartite K(3,3)", "graph_nodes": 6, "graph_edges": 9, "error": null, "has_errors": false, "wp_colors": 2, "ds_colors": 2, "sa_colors": 5, "dp_colors": 2}, {"graph_name": "Star (5 edges)", "graph_nodes": 6, "graph_edges": 5, "error": null, "has_errors": false, "wp_colors": 2, "ds_colors": 2, "sa_colors": 4, "dp_colors": 2}, {"graph_name": "Cycle C(6)", "graph_nodes": 6, "graph_edges": 6, "error": null, "has_errors": false, "wp_colors": 2, "ds_colors": 2, "sa_colors": 3, "dp_colors": 2}, {"graph_name": "Cycle C(5)", "graph_nodes": 5, "graph_edges": 5, "error": null, "has_errors": false, "wp_colors": 3, "ds_colors": 3, "sa_colors": 4, "dp_colors": 3}, {"graph_name": "Wheel W(6)", "graph_nodes": 6, "graph_edges": 10, "error": null, "has_errors": false, "wp_colors": 4, "ds_colors": 4, "sa_colors": 5, "dp_colors": 4}, {"graph_name": "Path P(8)", "graph_nodes": 8, "graph_edges": 7, "error": null, "has_errors": false, "wp_colors": 2, "ds_colors": 2, "sa_colors": 5, "dp_colors": 2}, {"graph_name": "Ladder L(4)", "graph_nodes": 8, "graph_edges": 10, "error": null, "has_errors": false, "wp_colors": 2, "ds_colors": 2, "sa_colors": 5, "dp_colors": 2}];
        const data3d = {"Welsh-Powell": {"x": [5, 5, 5, 5, 5, 5, 8, 8, 8, 8, 8, 8, 10, 10, 10, 10, 10, 10, 12, 12, 12, 12, 12, 12, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20], "y": [0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7], "z": [2, 2, 3, 2, 3, 4, 3, 3, 3, 4, 4, 6, 3, 2, 3, 4, 5, 4, 3, 3, 4, 4, 5, 8, 3, 4, 4, 6, 6, 7, 3, 5, 5, 6, 7, 9]}, "D-Satur": {"x": [5, 5, 5, 5, 5, 5, 8, 8, 8, 8, 8, 8, 10, 10, 10, 10, 10, 10, 12, 12, 12, 12, 12, 12, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20], "y": [0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7], "z": [2, 2, 3, 2, 3, 4, 3, 3, 3, 4, 4, 6, 3, 2, 3, 4, 5, 4, 3, 3, 4, 4, 5, 8, 3, 4, 4, 4, 5, 7, 3, 4, 5, 6, 6, 9]}, "Simulated Annealing": {"x": [5, 5, 5, 5, 5, 5, 8, 8, 8, 8, 8, 8, 10, 10, 10, 10, 10, 10, 12, 12, 12, 12, 12, 12, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20], "y": [0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7], "z": [3, 3, 4, 3, 4, 5, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5]}};
        
        // Map for graph descriptions
        const graphDescMap = {};
        resultsData.forEach(r => graphDescMap[r.graph_name] = r.graph_description);

        // Helper: Extract by metric
        function getDataByMetric(metric) {
            const data = {};
            resultsData.forEach(result => {
                if (!data[result.algorithm]) data[result.algorithm] = [];
                data[result.algorithm].push(result[metric]);
            });
            return data;
        }
        
        // Helper: Get graph names
        function getGraphNames() {
            const graphs = new Set();
            resultsData.forEach(r => graphs.add(r.graph_name));
            return Array.from(graphs);
        }
        
        const graphNames = getGraphNames();

        // ========== OVERVIEW TAB CHARTS ==========
        
        // Chart 1: Colors Used
        const colorsByAlgo = getDataByMetric('num_colors');
        const colorsTrace = [];
        Object.keys(colorsByAlgo).sort().forEach(algo => {
            colorsTrace.push({
                name: algo,
                x: graphNames,
                y: colorsByAlgo[algo],
                type: 'bar',
                marker: {color: ['#667eea', '#764ba2', '#f093fb', '#4facfe'][Object.keys(colorsByAlgo).sort().indexOf(algo)]},
                // UPDATED: Add description to hover text
                text: graphNames.map(name => graphDescMap[name]), 
                hovertemplate: '<b>%{x}</b><br>%{text}<br>Colors: %{y}<extra></extra>'
            });
        });
        Plotly.newPlot('colorsChart', colorsTrace, {
            barmode: 'group',
            xaxis: {title: 'Graph Type'},
            yaxis: {title: 'Number of Colors'},
            hovermode: 'closest',
            height: 400
        }, {responsive: true});
        
        // Chart 2: Execution Time
        const timeByAlgo = getDataByMetric('execution_time_ms');
        const timeTrace = [];
        Object.keys(timeByAlgo).sort().forEach(algo => {
            timeTrace.push({
                name: algo,
                x: graphNames,
                y: timeByAlgo[algo],
                type: 'scatter',
                mode: 'lines+markers',
                line: {width: 3},
                // UPDATED: Add description to hover text
                text: graphNames.map(name => graphDescMap[name]), 
                hovertemplate: '<b>%{x}</b><br>%{text}<br>Time: %{y:.2f} ms<extra></extra>'
            });
        });
        Plotly.newPlot('timeChart', timeTrace, {
            xaxis: {title: 'Graph Type'},
            yaxis: {title: 'Time (ms)', type: 'log'},
            hovermode: 'closest',
            height: 400
        }, {responsive: true});
        
        // Chart 3: Efficiency
        const effByAlgo = getDataByMetric('chromatic_efficiency');
        const effTrace = [];
        Object.keys(effByAlgo).sort().forEach(algo => {
            effTrace.push({
                name: algo,
                x: graphNames,
                y: effByAlgo[algo],
                type: 'scatter',
                mode: 'lines+markers',
                fill: 'tozeroy',
                // UPDATED: Add description to hover text
                text: graphNames.map(name => graphDescMap[name]), 
                hovertemplate: '<b>%{x}</b><br>%{text}<br>Efficiency: %{y:.1%}<extra></extra>'
            });
        });
        Plotly.newPlot('efficiencyChart', effTrace, {
            xaxis: {title: 'Graph Type'},
            yaxis: {title: 'Efficiency (0-1)', range: [0, 1.1]},
            hovermode: 'closest',
            height: 400
        }, {responsive: true});
        
        // Chart 4: Achromatic Power
        const achrByAlgo = getDataByMetric('achromatic_power');
        const achrTrace = [];
        Object.keys(achrByAlgo).sort().forEach(algo => {
            achrTrace.push({
                name: algo,
                x: graphNames,
                y: achrByAlgo[algo],
                type: 'scatter',
                mode: 'markers',
                marker: {size: 10},
                // UPDATED: Add description to hover text
                text: graphNames.map(name => graphDescMap[name]), 
                hovertemplate: '<b>%{x}</b><br>%{text}<br>Power: %{y:.2f}<extra></extra>'
            });
        });
        Plotly.newPlot('achroChart', achrTrace, {
            xaxis: {title: 'Graph Type'},
            yaxis: {title: 'Achromatic Power (0-1)', range: [-0.1, 1.1]},
            hovermode: 'closest',
            height: 400
        }, {responsive: true});
        
        // ========== ANALYSIS TAB CHARTS ==========
        
        // Chart 5: Box Plot of Colors
        const algos = Object.keys(colorsByAlgo).sort();
        const boxTraces = [];
        algos.forEach(algo => {
            boxTraces.push({
                y: colorsByAlgo[algo],
                name: algo,
                type: 'box'
            });
        });
        Plotly.newPlot('boxChart', boxTraces, {
            title: '',
            yaxis: {title: 'Number of Colors'},
            height: 350
        }, {responsive: true});
        
        // Chart 6: Heatmap - Time vs Efficiency
        const heatmapData = {};
        resultsData.forEach(r => {
            const key = r.algorithm + '|' + r.graph_name;
            heatmapData[key] = {time: r.execution_time_ms, eff: r.chromatic_efficiency};
        });
        
        const heatTrace = [{
            z: algos.map(algo => graphNames.map(graph => {
                const key = algo + '|' + graph;
                return heatmapData[key] ? heatmapData[key].time : 0;
            })),
            x: graphNames,
            y: algos,
            type: 'heatmap',
            colorscale: 'Viridis'
        }];
        
        Plotly.newPlot('heatmapChart', heatTrace, {
            title: '',
            xaxis: {title: 'Graph'},
            yaxis: {title: 'Algorithm'},
            height: 350
        }, {responsive: true});
        
        // Chart 7: Color Imbalance
        const imbalanceByAlgo = getDataByMetric('color_imbalance');
        const imbalanceTrace = [];
        Object.keys(imbalanceByAlgo).sort().forEach(algo => {
            imbalanceTrace.push({
                name: algo,
                x: graphNames,
                y: imbalanceByAlgo[algo],
                type: 'bar'
            });
        });
        Plotly.newPlot('imbalanceChart', imbalanceTrace, {
            barmode: 'group',
            xaxis: {title: 'Graph'},
            yaxis: {title: 'Imbalance Score'},
            height: 350
        }, {responsive: true});
        
        // Chart 8: Speed Ranking
        const avgTimeByAlgo = {};
        Object.keys(timeByAlgo).forEach(algo => {
            avgTimeByAlgo[algo] = timeByAlgo[algo].reduce((a, b) => a + b, 0) / timeByAlgo[algo].length;
        });
        
        const speedTrace = [{
            x: Object.keys(avgTimeByAlgo),
            y: Object.values(avgTimeByAlgo),
            type: 'bar',
            marker: {color: Object.values(avgTimeByAlgo), colorscale: 'Reds'}
        }];
        
        Plotly.newPlot('speedRankChart', speedTrace, {
            xaxis: {title: 'Algorithm'},
            yaxis: {title: 'Average Time (ms)'},
            height: 350
        }, {responsive: true});
        
        // Chart 9: Conflicts
        const conflictByAlgo = getDataByMetric('conflicts');
        const conflictTrace = [];
        Object.keys(conflictByAlgo).sort().forEach(algo => {
            conflictTrace.push({
                name: algo,
                x: graphNames,
                y: conflictByAlgo[algo],
                type: 'scatter',
                mode: 'lines+markers'
            });
        });
        Plotly.newPlot('conflictChart', conflictTrace, {
            xaxis: {title: 'Graph'},
            yaxis: {title: 'Number of Conflicts'},
            height: 350
        }, {responsive: true});
        
        // Chart 10: Color Class Variance
        const varianceByAlgo = getDataByMetric('color_class_variance');
        const varianceTrace = [];
        Object.keys(varianceByAlgo).sort().forEach(algo => {
            varianceTrace.push({
                name: algo,
                x: graphNames,
                y: varianceByAlgo[algo],
                type: 'scatter',
                mode: 'lines+markers',
                fill: 'tonexty'
            });
        });
        Plotly.newPlot('classBalanceChart', varianceTrace, {
            xaxis: {title: 'Graph'},
            yaxis: {title: 'Color Class Variance'},
            height: 350
        }, {responsive: true});
        
        // ========== 3D TAB CHARTS ==========
        
        // 3D Surface Plot - Welsh-Powell
        if (data3d && data3d['Welsh-Powell']) {
            const wp3d = data3d['Welsh-Powell'];
            const wp3dTrace = [{
                x: wp3d.x,
                y: wp3d.y,
                z: wp3d.z,
                mode: 'markers',
                type: 'scatter3d',
                marker: {size: 5, color: wp3d.z, colorscale: 'Viridis', showscale: true}
            }];
            
            Plotly.newPlot('surface3d-wp', wp3dTrace, {
                scene: {
                    xaxis: {title: 'Graph Size (nodes)'},
                    yaxis: {title: 'Edge Density'},
                    zaxis: {title: 'Colors Used'}
                },
                height: 500
            }, {responsive: true});
        }
        
        // 3D Surface Plot - D-Satur
        if (data3d && data3d['D-Satur']) {
            const ds3d = data3d['D-Satur'];
            const ds3dTrace = [{
                x: ds3d.x,
                y: ds3d.y,
                z: ds3d.z,
                mode: 'markers',
                type: 'scatter3d',
                marker: {size: 5, color: ds3d.z, colorscale: 'Plasma', showscale: true}
            }];
            
            Plotly.newPlot('surface3d-ds', ds3dTrace, {
                scene: {
                    xaxis: {title: 'Graph Size (nodes)'},
                    yaxis: {title: 'Edge Density'},
                    zaxis: {title: 'Colors Used'}
                },
                height: 500
            }, {responsive: true});
        }
        
        // 3D Scatter: Algorithm Comparison
        const scatter3dTraces = [];
        algos.forEach((algo, idx) => {
            const subset = resultsData.filter(r => r.algorithm === algo);
            scatter3dTraces.push({
                x: subset.map(r => r.graph_nodes),
                y: subset.map(r => r.execution_time_ms),
                z: subset.map(r => r.num_colors),
                mode: 'markers',
                type: 'scatter3d',
                name: algo,
                marker: {size: 6}
            });
        });
        
        Plotly.newPlot('scatter3d', scatter3dTraces, {
            scene: {
                xaxis: {title: 'Nodes'},
                yaxis: {title: 'Time (ms)'},
                zaxis: {title: 'Colors'}
            },
            height: 500
        }, {responsive: true});
        
        // ========== EDGE CASES TAB ==========
        
        const edgeCaseContainer = document.getElementById('edgeCasesContainer');
        edgeCaseData.forEach(ec => {
            const card = document.createElement('div');
            card.className = 'edge-case-card';
            
            const statusClass = ec.error ? 'result-error' : (ec.has_errors ? 'result-warning' : 'result-good');
            const statusText = ec.error ? '‚ùå Error: ' + ec.error : (ec.has_errors ? '‚ö†Ô∏è Has Conflicts' : '‚úì Valid');
            
            card.innerHTML = `
                <div class="edge-case-name">${ec.graph_name}</div>
                <div class="edge-case-result"><strong>Nodes:</strong> ${ec.graph_nodes}</div>
                <div class="edge-case-result"><strong>Edges:</strong> ${ec.graph_edges}</div>
                <div class="edge-case-result" style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd;">
                    <strong>WP:</strong> ${ec.wp_colors} colors
                </div>
                <div class="edge-case-result"><strong>DS:</strong> ${ec.ds_colors} colors</div>
                <div class="edge-case-result"><strong>SA:</strong> ${ec.sa_colors} colors</div>
                <div class="edge-case-result"><strong>DP:</strong> ${ec.dp_colors} colors</div>
                <div class="edge-case-result" style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd;">
                    <span class="${statusClass}">${statusText}</span>
                </div>
            `;
            
            edgeCaseContainer.appendChild(card);
        });
        
        // ========== METRICS TABLE ==========
        
        const metricsBody = document.getElementById('metricsBody');
        resultsData.forEach(result => {
            const row = document.createElement('tr');
            const valid = result.is_valid ? 
                '<span class="result-good">‚úì Valid</span>' : 
                '<span class="result-error">‚úó Invalid</span>';
            
            row.innerHTML = `
                <td>${result.graph_name}</td>
                <td style="font-size: 0.85em; color: #666;">${result.graph_description}</td> <td><strong>${result.algorithm}</strong></td>
                <td style="text-align: center; font-weight: 600; color: #667eea;">${result.num_colors}</td>
                <td style="text-align: center;">${result.conflicts}</td>
                <td>${valid}</td>
                <td>${result.execution_time_ms.toFixed(2)}</td>
                <td>${(result.chromatic_efficiency * 100).toFixed(1)}%</td>
                <td>${result.color_imbalance.toFixed(3)}</td>
                <td>${result.achromatic_power.toFixed(3)}</td>
                <td>${result.max_degree}</td>
            `;
            metricsBody.appendChild(row);
        });
    </script>
</body>
</html>
